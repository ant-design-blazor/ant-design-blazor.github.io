{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","core/JsInterop/interop.ts","core/JsInterop/modules/Caret.ts","core/JsInterop/modules/dragHelper.ts","main.ts"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","getDom","element","document","querySelector","body","getDomInfo","result","dom","offsetTop","offsetLeft","offsetWidth","offsetHeight","scrollHeight","scrollWidth","scrollLeft","scrollTop","clientTop","clientLeft","clientHeight","clientWidth","getAbsoluteTop","getAbsoluteLeft","fileClickEvent","fileId","this","attributes","nodeValue","getElementById","click","getObjectURL","url","file","files","undefined","window","URL","createObjectURL","webkitURL","addDomEventListener","eventName","invoker","callback","args","obj","k","json","JSON","stringify","v","Node","Window","invokeMethodAsync","addEventListener","func","wait","immediate","timeout","_this","_arguments","arguments","context","callNow","clearTimeout","setTimeout","apply","debounce","innerWidth","innerHeight","offset","offsetParent","getActiveElement","activeElement","getAttribute","css","name","value","style","key","hasOwnProperty","addCls","selector","clsName","_element$classList","classList","add","_toConsumableArray","removeCls","_element$classList2","remove","addFileClickEventListener","btn","removeFileClickEventListener","removeEventListener","clearFile","setAttribute","getFileInfo","fileInfo","objectUrl","push","fileName","size","objectURL","type","uploadFile","index","data","headers","instance","percentMethod","successMethod","errorMethod","formData","FormData","append","req","XMLHttpRequest","onreadystatechange","readyState","status","responseText","upload","onprogress","event","percent","Math","floor","loaded","onerror","open","header","setRequestHeader","send","triggerEvent","eventType","evt","createEvent","initEvent","dispatchEvent","getBoundingClientRect","matchMedia","query","matches","copy","text","navigator","clipboard","writeText","then","console","log","err","error","textArea","createElement","top","left","position","appendChild","focus","select","msg","execCommand","removeChild","fallbackCopyTextToClipboard","blur","BackTop","scrollTo","getFirstChildDomInfo","firstElementChild","addClsToFirstChild","className","addDomEventListenerToFirstChild","addElementToBody","delElementFromBody","addElementTo","addElement","elementSelector","parent","delElementFrom","delElement","focusDialog","count","ele","hasAttribute","getWindow","oldBodyCacheStack","enableBodyScroll","oldBodyCache","filter","queryElements","querySelectorAll","forEach","pop","_a","width","_b","overflow","_c","disableBodyScroll","documentElement","enableModalBodyScroll","enableDrawerBodyScroll","createIconFromfontCN","scriptUrl","script","getScroll","x","pageXOffset","y","pageYOffset","getInnerText","innerText","objReferenceDict","disposeObj","objReferenceName","Caret_1","mentionsOnWindowClick","mentionsObj","getCursorXY","objReference","default","height","dragHelper_1","Object","defineProperty","enumerable","get","enableDraggable","disableDraggable","resetModalPosition","InputCaret","inputor","_classCallCheck","getPos","domInputor","selectionStart","getPosition","pos","format","replace","test","userAgent","inputorValue","start_range","slice","end_range","html","Mirror","create","rect","getOffset","$mirror","AntDesign","interop","mirrorCss","innerHTML","parentElement","zIndex","css_attr","flag","oRect","elem","throttle","fn","threshold","start","Date","_len","Array","_key","curTime","eventMap","Map","defaultOptions","inViewport","Dragger","_container","triggler","_triggler","options","_options","onMousedown","onMouseup","onMousemove","onResize","_style","_isFirst","container","dragInViewport","_this2","_state","state","isInDrag","mX","clientX","mY","clientY","_getContainerPos","getContainerPos","domMaxY","domMaxX","domStartX","domStartY","_getContainerPos2","nowX","nowY","disX","disY","newDomX","newDomY","margin","paddingBottom","bind","parseInt","assign","dragger","set","bindDrag","unbindDrag","resetContainerStyle"],"mappings":"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","file":"ant-design-blazor.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export function getDom(element) {\n  if (!element) {\n    element = document.body;\n  } else if (typeof element === 'string') {\n    if (element === 'document') {\n      return document;\n    }\n    element = document.querySelector(element);\n  }\n  return element;\n}\n\nexport function getDomInfo(element) {\n  var result = {};\n\n  var dom = getDom(element);\n\n  result[\"offsetTop\"] = dom.offsetTop || 0;\n  result[\"offsetLeft\"] = dom.offsetLeft || 0;\n  result[\"offsetWidth\"] = dom.offsetWidth || 0;\n  result[\"offsetHeight\"] = dom.offsetHeight || 0;\n  result[\"scrollHeight\"] = dom.scrollHeight || 0;\n  result[\"scrollWidth\"] = dom.scrollWidth || 0;\n  result[\"scrollLeft\"] = dom.scrollLeft || 0;\n  result[\"scrollTop\"] = dom.scrollTop || 0;\n  result[\"clientTop\"] = dom.clientTop || 0;\n  result[\"clientLeft\"] = dom.clientLeft || 0;\n  result[\"clientHeight\"] = dom.clientHeight || 0;\n  result[\"clientWidth\"] = dom.clientWidth || 0;\n\n  result[\"absoluteTop\"] = getAbsoluteTop(dom);\n  result[\"absoluteLeft\"] = getAbsoluteLeft(dom);\n\n  return result;\n}\n\nexport function addFileClickEventListener(btn) {\n  (btn as HTMLSpanElement).addEventListener(\"click\", fileClickEvent);\n}\n\nexport function removeFileClickEventListener(btn) {\n  (btn as HTMLSpanElement).removeEventListener(\"click\", fileClickEvent);\n}\n\nexport function fileClickEvent() {\n  var fileId = this.attributes[\"data-fileid\"].nodeValue;\n  var element = document.getElementById(fileId);\n  (element as HTMLInputElement).click();\n}\n\nexport function clearFile(element) {\n  element.setAttribute(\"type\", \"input\");\n  element.value = '';\n  element.setAttribute(\"type\", \"file\");\n}\n\nexport function getFileInfo(element) {\n  if (element.files && element.files.length > 0) {\n    var fileInfo = [];\n    for (var i = 0; i < element.files.length; i++) {\n      var file = element.files[i];\n      var objectUrl = getObjectURL(element);\n      fileInfo.push({\n        fileName: file.name,\n        size: file.size,\n        objectURL: objectUrl,\n        type: file.type\n      });\n    }\n\n    return fileInfo;\n  }\n}\n\nexport function getObjectURL(element) {\n  var url = null;\n  var file = element.files[0];\n  if (window.URL != undefined) {\n    url = window.URL.createObjectURL(file);\n  } else if (window.webkitURL != undefined) {\n    url = window.webkitURL.createObjectURL(file);\n  }\n  return url;\n}\n\nexport function uploadFile(element, index, data, headers, fileId, url, name, instance, percentMethod, successMethod, errorMethod) {\n  let formData = new FormData();\n  var file = element.files[index];\n  var size = file.size;\n  formData.append(name, file);\n  if (data != null) {\n    for (var key in data) {\n      formData.append(key, data[key]);\n    }\n  }\n  const req = new XMLHttpRequest()\n  req.onreadystatechange = function () {\n    if (req.readyState === 4) {\n      if (req.status != 200) {\n        instance.invokeMethodAsync(errorMethod, fileId, `{\"status\": ${req.status}}`);\n        return;\n      }\n      instance.invokeMethodAsync(successMethod, fileId, req.responseText);\n    }\n  }\n  req.upload.onprogress = function (event) {\n    var percent = Math.floor(event.loaded / size * 100);\n    instance.invokeMethodAsync(percentMethod, fileId, percent);\n  }\n  req.onerror = function (e) {\n    instance.invokeMethodAsync(errorMethod, fileId, \"error\");\n  }\n  req.open('post', url, true)\n  if (headers != null) {\n    for (var header in headers) {\n      req.setRequestHeader(header, headers[header]);\n    }\n  }\n  req.send(formData)\n}\n\nexport function triggerEvent(element, eventType, eventName) {\n  var dom = element as HTMLInputElement;\n  var evt = document.createEvent(eventType);\n  evt.initEvent(eventName);\n  return dom.dispatchEvent(evt);\n}\n\nexport function getBoundingClientRect(element) {\n  let dom = getDom(element);\n  if (dom) {\n    return dom.getBoundingClientRect();\n  }\n  return null;\n}\n\nexport function addDomEventListener(element, eventName, invoker) {\n  let callback = args => {\n    const obj = {};\n    for (let k in args) {\n      obj[k] = args[k];\n    }\n    let json = JSON.stringify(obj, (k, v) => {\n      if (v instanceof Node) return 'Node';\n      if (v instanceof Window) return 'Window';\n      return v;\n    }, ' ');\n    invoker.invokeMethodAsync('Invoke', json);\n  };\n\n  if (element == 'window') {\n    if (eventName == 'resize') {\n      window.addEventListener(eventName, debounce(() => callback({ innerWidth: window.innerWidth, innerHeight: window.innerHeight }), 200, false));\n    } else {\n      window.addEventListener(eventName, callback);\n    }\n  } else {\n    let dom = getDom(element);\n    (dom as HTMLElement).addEventListener(eventName, callback);\n  }\n}\n\nexport function matchMedia(query) {\n  return window.matchMedia(query).matches;\n}\n\nfunction fallbackCopyTextToClipboard(text) {\n  var textArea = document.createElement(\"textarea\");\n  textArea.value = text;\n\n  // Avoid scrolling to bottom\n  textArea.style.top = \"0\";\n  textArea.style.left = \"0\";\n  textArea.style.position = \"fixed\";\n\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  try {\n    var successful = document.execCommand('copy');\n    var msg = successful ? 'successful' : 'unsuccessful';\n    console.log('Fallback: Copying text command was ' + msg);\n  } catch (err) {\n    console.error('Fallback: Oops, unable to copy', err);\n  }\n\n  document.body.removeChild(textArea);\n}\nexport function copy(text) {\n  if (!navigator.clipboard) {\n    fallbackCopyTextToClipboard(text);\n    return;\n  }\n  navigator.clipboard.writeText(text).then(function () {\n    console.log('Async: Copying to clipboard was successful!');\n  }, function (err) {\n    console.error('Async: Could not copy text: ', err);\n  });\n}\n\nexport function focus(selector) {\n  let dom = getDom(selector);\n  dom.focus();\n}\n\nexport function blur(selector) {\n  let dom = getDom(selector);\n  dom.blur();\n}\n\nexport function log(text) {\n  console.log(text);\n}\n\nexport function BackTop(element) {\n  let dom = document.getElementById(\"BodyContainer\");\n  dom.scrollTo(0, 0);\n}\n\nexport function getFirstChildDomInfo(element) {\n  var dom = getDom(element);\n  return getDomInfo(dom.firstElementChild);\n}\n\nexport function addClsToFirstChild(element, className) {\n  var dom = getDom(element);\n  if (dom.firstElementChild) {\n    dom.firstElementChild.classList.add(className);\n  }\n}\n\nexport function addDomEventListenerToFirstChild(element, eventName, invoker) {\n  var dom = getDom(element);\n\n  if (dom.firstElementChild) {\n    addDomEventListener(dom.firstElementChild, eventName, invoker);\n  }\n}\n\nexport function getAbsoluteTop(e) {\n  var offset = e.offsetTop;\n  if (e.offsetParent != null) {\n    offset += getAbsoluteTop(e.offsetParent);\n  }\n  return offset;\n}\n\nexport function getAbsoluteLeft(e) {\n  var offset = e.offsetLeft;\n  if (e.offsetParent != null) {\n    offset += getAbsoluteLeft(e.offsetParent);\n  }\n  return offset;\n}\n\nexport function addElementToBody(element) {\n  document.body.appendChild(element);\n}\n\nexport function delElementFromBody(element) {\n  document.body.removeChild(element);\n}\n\nexport function addElementTo(addElement, elementSelector) {\n  let parent = getDom(elementSelector);\n  if (parent && addElement) {\n    parent.appendChild(addElement);\n  }\n}\n\nexport function delElementFrom(delElement, elementSelector) {\n  let parent = getDom(elementSelector);\n  if (parent && delElement) {\n    parent.removeChild(delElement);\n  }\n}\n\nexport function getActiveElement() {\n  let element = document.activeElement;\n  let id = element.getAttribute(\"id\") || \"\";\n  return id;\n}\n\nexport function focusDialog(selector: string, count: number = 0) {\n  let ele = <HTMLElement>document.querySelector(selector);\n  if (ele && !ele.hasAttribute(\"disabled\")) {\n    setTimeout(() => {\n      ele.focus();\n      let curId = \"#\" + getActiveElement();\n      if (curId !== selector) {\n        if (count < 10) {\n          focusDialog(selector, count + 1);\n        }\n      }\n    }, 10);\n  }\n}\n\nexport function getWindow() {\n  return {\n    innerWidth: window.innerWidth,\n    innerHeight: window.innerHeight\n  };\n}\n\nfunction debounce(func, wait, immediate) {\n  var timeout;\n  return () => {\n    const context = this, args = arguments;\n    const later = () => {\n      timeout = null;\n      if (!immediate) func.apply(this, args);\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n};\n\nexport function css(element: HTMLElement, name: string | object, value: string | null = null) {\n  if (typeof name === 'string') {\n    element.style[name] = value;\n  } else {\n    for (let key in name) {\n      if (name.hasOwnProperty(key)) {\n        element.style[key] = name[key];\n      }\n    }\n  }\n}\n\nexport function addCls(selector: Element | string, clsName: string | Array<string>) {\n  let element = getDom(selector);\n\n  if (typeof clsName === \"string\") {\n    element.classList.add(clsName);\n  } else {\n    element.classList.add(...clsName);\n  }\n}\n\nexport function removeCls(selector: Element | string, clsName: string | Array<string>) {\n  let element = getDom(selector);\n\n  if (typeof clsName === \"string\") {\n    element.classList.remove(clsName);\n  } else {\n    element.classList.remove(...clsName);\n  }\n}\n\nconst oldBodyCacheStack = [];\n\nconst hasScrollbar = () => {\n  let overflow = document.body.style.overflow;\n  if (overflow && overflow === \"hidden\") return false;\n  return document.body.scrollHeight > (window.innerHeight || document.documentElement.clientHeight);\n}\n\nexport function disableBodyScroll() {\n  let body = document.body;\n  const oldBodyCache = {};\n  [\"position\", \"width\", \"overflow\"].forEach((key) => {\n    oldBodyCache[key] = body.style[key];\n  });\n  oldBodyCacheStack.push(oldBodyCache);\n  css(body,\n    {\n      \"position\": \"relative\",\n      \"width\": hasScrollbar() ? \"calc(100% - 17px)\" : null,\n      \"overflow\": \"hidden\"\n    });\n  addCls(document.body, \"ant-scrolling-effect\");\n}\n\nfunction enableBodyScroll(selector, filter = null) {\n  let length = 0;\n  let queryElements = document.querySelectorAll(selector);\n  if (typeof filter === \"function\") {\n    queryElements.forEach((value, key, parent) => {\n      if (!filter(value, key, parent)) {\n        length += 1;\n      }\n    });\n  } else {\n    length = queryElements.length;\n  }\n  if (length === 0) {\n    let oldBodyCache = oldBodyCacheStack.length > 0 ? oldBodyCacheStack.pop() : {};\n\n    css(document.body,\n      {\n        \"position\": oldBodyCache[\"position\"] ?? null,\n        \"width\": oldBodyCache[\"width\"] ?? null,\n        \"overflow\": oldBodyCache[\"overflow\"] ?? null\n      });\n    removeCls(document.body, \"ant-scrolling-effect\");\n  }\n}\n\nexport function enableModalBodyScroll() {\n  enableBodyScroll(\".ant-modal-mask:not(.ant-modal-mask-hidden)\");\n}\n\nexport function enableDrawerBodyScroll() {\n  enableBodyScroll(\".ant-drawer-open\",\n    (value, key, parent) => { return value.style.position === \"absolute\" });\n}\n\nexport function createIconFromfontCN(scriptUrl) {\n  if (document.querySelector(`[data-namespace=\"${scriptUrl}\"]`)) {\n    return;\n  }\n  const script = document.createElement('script');\n  script.setAttribute('src', scriptUrl);\n  script.setAttribute('data-namespace', scriptUrl);\n  document.body.appendChild(script);\n}\n\nexport function getScroll() {\n  return { x: window.pageXOffset, y: window.pageYOffset };\n}\n\nexport function getInnerText(element) {\n  let dom = getDom(element);\n  return dom.innerText;\n}\n\nconst objReferenceDict = {};\nexport function disposeObj(objReferenceName) {\n  delete objReferenceDict[objReferenceName];\n}\n\n//#region mentions\n\nimport getOffset from \"./modules/Caret\";\n\nexport function getCursorXY(element, objReference) {\n  objReferenceDict[\"mentions\"] = objReference;\n  window.addEventListener(\"click\", mentionsOnWindowClick);\n\n  var offset = getOffset(element);\n\n  return [offset.left, offset.top + offset.height + 14];\n}\n\nfunction mentionsOnWindowClick(e) {\n  let mentionsObj = objReferenceDict[\"mentions\"];\n  if (mentionsObj) {\n    mentionsObj.invokeMethodAsync(\"CloseMentionsDropDown\");\n  } else {\n    window.removeEventListener(\"click\", mentionsOnWindowClick);\n  }\n}\n\n//#endregion\n\nexport { enableDraggable, disableDraggable, resetModalPosition } from \"./modules/dragHelper\";","﻿//extract from https://github.com/ichord/Caret.js\n\nclass InputCaret {\n    domInputor: any;\n\n    constructor(inputor) {\n        this.domInputor = inputor;\n    }\n\n    getPos = function () {\n        return this.domInputor.selectionStart;\n    };\n\n    getPosition = function (pos) {\n        var domInputor, end_range, format, html, mirror, start_range;\n        domInputor = this.domInputor;\n\n        format = function (value) {\n            value = value.replace(/<|>|`|\"|&/g, '?').replace(/\\r\\n|\\r|\\n/g, \"<br/>\");\n            if (/firefox/i.test(navigator.userAgent)) {\n                value = value.replace(/\\s/g, '&nbsp;');\n            }\n            return value;\n        };\n        if (!pos) {\n            pos = this.getPos();\n        }\n        let inputorValue = domInputor.value;\n        start_range = inputorValue.slice(0, pos);\n        end_range = inputorValue.slice(pos);\n        html = \"<span style='position: relative; display: inline;'>\" + format(start_range) + \"</span>\";\n        html += \"<span id='caret' style='position: relative; display: inline;'>|</span>\";\n        html += \"<span style='position: relative; display: inline;'>\" + format(end_range) + \"</span>\";\n        mirror = new Mirror(domInputor);\n        return mirror.create(html).rect();\n    };\n\n    getOffset = function (pos = null) {\n        var offset, position, domInputor;\n        domInputor = this.domInputor;\n\n        var rect = domInputor.getBoundingClientRect();\n\n        offset = {\n            left: rect.left,\n            top: rect.top\n        };\n     \n        position = this.getPosition(pos);\n        return offset = {\n            left: offset.left + position.left - domInputor.scrollLeft, \n            top: offset.top + position.top - domInputor.scrollTop, \n            height: position.height\n        };\n    };\n\n}\n\nclass Mirror {\n    domInputor: any;\n    css_attr: any;\n    constructor(inputor) {\n        this.domInputor = inputor;\n        this.css_attr = [];\n    }\n\n    create = function (html) {\n        this.$mirror = document.createElement(\"div\");\n\n        (<any>window).AntDesign.interop.css(this.$mirror, this.mirrorCss());\n\n        this.$mirror.innerHTML = html;\n        this.domInputor.parentElement.append(this.$mirror);\n\n        return this;\n    };\n\n    mirrorCss = function () {\n        var css, _this = this;\n        css = {\n            position: 'absolute',\n            left: -9999,\n            top: 0,\n            zIndex: -20000\n        };\n\n        this.css_attr.push('width');\n\n        this.css_attr.forEach((p) => {\n            return css[p] = _this.domInputor.style[p]//_this.$inputor.css(p);\n        })\n        \n        return css;\n    };\n\n    rect = function () {\n        var flag, pos, rect;\n        flag = this.$mirror.querySelector(\"#caret\");\n        var oRect = flag.getBoundingClientRect();\n\n        pos = {\n            left: flag.offsetLeft,\n            top: flag.offsetTop\n        }; //$flag.position();\n\n        rect = {\n            left: pos.left,\n            top: pos.top,\n            height: oRect.height\n        };\n\n        this.$mirror.parentElement.removeChild(this.$mirror)\n        return rect;\n    };\n\n}\n\nfunction getOffset(elem) {\n    return (new InputCaret(elem)).getOffset();\n}\n\nexport default getOffset;","﻿\nconst throttle = (fn, threshold = 160) => {\n    let timeout;\n    var start = +new Date;\n    return function (...args) {\n        let context = this, curTime = +new Date() - 0;\n        //总是干掉事件回调\n        window.clearTimeout(timeout);\n        if (curTime - start >= threshold) {\n            //只执行一部分方法，这些方法是在某个时间段内执行一次\n            fn.apply(context, args);\n            start = curTime;\n        }\n        else {\n            //让方法在脱离事件后也能执行一次\n            timeout = window.setTimeout(() => {\n                //@ts-ignore\n                fn.apply(this, args);\n            }, threshold);\n        }\n    };\n}\n\nconst eventMap = new Map<HTMLElement, Dragger>();\n\nconst defaultOptions = {\n    inViewport: true\n}\n\nclass Dragger {\n\n    private _triggler: HTMLElement = null;\n    private _container: HTMLElement = null;\n    private _options: any = null;\n    private _state: any = null;\n    private _isFirst: boolean = true;\n    private _style: string = null;\n\n    constructor(triggler: HTMLElement, container: HTMLElement, dragInViewport: boolean) {\n        this._triggler = triggler;\n        this._container = container;\n        this._options = Object.assign({}, defaultOptions, {\n            inViewport: dragInViewport\n        });\n        this._state = {\n            isInDrag: false,\n            mX: 0, // mouse x\n            mY: 0, // mouse y\n            domStartX: 0, // on mousedown, the mouse x\n            domStartY: 0, // on mousedown, the mouse y            \n        }\n    }\n\n    getContainerPos() {\n        const rect = this._container.getBoundingClientRect();\n        return {\n            left: rect.left,\n            top: rect.top\n        }\n    }\n\n    onMousedown = (e) => {\n        const state = this._state;\n        state.isInDrag = true;\n        state.mX = e.clientX;\n        state.mY = e.clientY;\n        this._container.style.position = \"absolute\";\n        const { left, top } = this.getContainerPos();\n\n        if (this._isFirst) {\n\n            state.domMaxY = document.documentElement.clientHeight\n                - this._container.offsetHeight - 1;\n            state.domMaxX = document.documentElement.clientWidth\n                - this._container.offsetWidth - 1;\n\n            this._container.style.left = left + 'px';\n            this._container.style.top = top + 'px';\n\n            if (!this._style) {\n                this._style = this._container.getAttribute(\"style\");\n            }\n\n            this._isFirst = false;\n        }\n\n        state.domStartX = left;\n        state.domStartY = top;\n    }\n\n    onMouseup = (e) => {\n        const state = this._state;\n\n        state.isInDrag = false;\n\n        const { left, top } = this.getContainerPos();\n        state.domStartX = left;\n        state.domStartY = top;\n    }\n\n    onMousemove = throttle((e) => {\n        const state = this._state;\n        if (state.isInDrag) {\n            var nowX = e.clientX,\n                nowY = e.clientY,\n                disX = nowX - state.mX,\n                disY = nowY - state.mY;\n\n            var newDomX = state.domStartX + disX;\n            var newDomY = state.domStartY + disY;\n            if (this._options.inViewport) {\n                if (newDomX < 0) {\n                    newDomX = 0;\n                }\n                else if (newDomX > state.domMaxX) {\n                    newDomX = state.domMaxX;\n                }\n                if (newDomY < 0) {\n                    newDomY = 0;\n                }\n                else if (newDomY > state.domMaxY) {\n                    newDomY = state.domMaxY;\n                }\n            }\n            this._container.style.position = \"absolute\";\n            this._container.style.margin = \"0\";\n            this._container.style.paddingBottom = \"0\";\n            this._container.style.left = newDomX + \"px\";\n            this._container.style.top = newDomY + \"px\";\n        }\n    }, 60).bind(this)\n\n    onResize = throttle((e) => {\n        const state = this._state;\n\n        state.domMaxY = document.documentElement.clientHeight\n            - this._container.offsetHeight - 1;\n        state.domMaxX = document.documentElement.clientWidth\n            - this._container.offsetWidth - 1;\n        state.domStartY = parseInt(this._container.style.top);\n        state.domStartX = parseInt(this._container.style.left);\n        if (state.domStartY > state.domMaxY) {\n            if (state.domMaxY > 0) {\n                this._container.style.top = state.domMaxY + \"px\";\n            }\n        }\n        if (state.domStartX > state.domMaxX) {\n            this._container.style.left = state.domMaxX + \"px\";\n        }\n    }, 60).bind(this)\n\n    bindDrag() {\n        const triggler = this._triggler;\n        const options = this._options;\n\n        triggler.addEventListener(\"mousedown\", this.onMousedown, false);\n        window.addEventListener(\"mouseup\", this.onMouseup, false);\n        document.addEventListener(\"mousemove\", this.onMousemove);\n        if (options.inViewport) {\n            window.addEventListener(\"resize\", this.onResize, false);\n        }\n    }\n\n    unbindDrag() {\n        const triggler = this._triggler;\n\n        triggler.removeEventListener(\"mousedown\", this.onMousedown, false);\n        window.removeEventListener(\"mouseup\", this.onMouseup, false);\n        document.removeEventListener(\"mousemove\", this.onMousemove);\n        if (this._options.inViewport) {\n            window.removeEventListener(\"resize\", this.onResize, false);\n        }\n    }\n\n    resetContainerStyle() {\n        if (this._style !== null) {\n            this._isFirst = true;\n            this._container.setAttribute(\"style\", this._style);\n        }\n    }\n}\n\nfunction enableDraggable(triggler: HTMLElement, container: HTMLElement, dragInViewport: boolean = true) {\n    let dragger = eventMap.get(triggler);\n    if (!dragger) {\n        dragger = new Dragger(triggler, container, dragInViewport);\n        eventMap.set(triggler, dragger);\n    } \n    dragger.bindDrag();\n}\n\nfunction disableDraggable(triggler: HTMLElement) {\n    const dragger = eventMap.get(triggler);\n    if (dragger) {\n        dragger.unbindDrag();\n    }\n}\n\nfunction resetModalPosition(triggler: HTMLElement) {\n    const dragger = eventMap.get(triggler);\n    if (dragger) {\n        dragger.resetContainerStyle();\n    }\n}\n\nexport { enableDraggable, disableDraggable, resetModalPosition };","﻿import * as interop from \"./core/JsInterop/interop\";\n\ndeclare global {\n  interface Window {\n    AntDesign: any;\n  }\n}\n\nwindow.AntDesign = {\n  interop,\n};\n"]}